import { default as cheerio } from 'cheerio';

export default class SVGConvertor {
  constructor(xml) {
    this.xml = xml;
    this.$ = cheerio.load(xml, { xmlMode: true });
    this.$svg = this.$('svg');

    // convert <style> to jsx compatible syntax
    this.$svg.find('style').each((index, styleNode) => {
      const $style = cheerio(styleNode);
      $style.html(`\{\`${$style.html()}\`\}`);
    });
  }

  getViewBox() {
    return this.$svg.attr('viewBox');
  }

  toString() {
    return this.$svg.html();
  }
}
