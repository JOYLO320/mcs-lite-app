import { default as fs } from 'fs';

// TODO: use native path.parse after upgrate to node ^0.12
import { default as pathParse } from 'parse-filepath';

export default function writeEntryFileSync({ filenames, outFile }) {
  const entryContent = filenames.reduce((content, filename) => {
    const basename = pathParse(filename).name;
    return `export { default as ${basename} } from './${basename}';\n${content}`;
  }, '');

  fs.writeFileSync(outFile, entryContent, 'utf-8');
}
