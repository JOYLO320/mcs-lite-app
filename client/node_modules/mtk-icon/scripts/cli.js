import { default as path } from 'path';
import { default as writeComponentFilesSync } from './utils/writeComponentFilesSync.js';
import { default as writeEntryFileSync } from './utils/writeEntryFileSync.js';

const rootDir = path.join(__dirname, '..');

/**
 * generateSVGComponents()
 *
 * CLI for converting Icon `.svg` file to React Class Components.
 *
 * @params {array} filenames
 * @params {object} options
 *
 * @author Michael Hsu
 */
export function generateSVGComponents(filenames, { outDir, template, attrBlacklist }) {
  writeComponentFilesSync({
    filenames,
    outDir: path.join(rootDir, outDir),
    template: path.join(rootDir, template),
    attrBlacklist: path.join(rootDir, attrBlacklist),
  });
}

/**
 * generateComponentsEntry()
 *
 * CLI for generate entry `index.js` file to export all SVG Icon components.
 *
 * @params {array} filenames
 * @params {object} options
 *
 * @author Michael Hsu
 */
export function generateComponentsEntry(filenames, { outFile }) {
  writeEntryFileSync({
    filenames,
    outFile: path.join(rootDir, outFile),
  });
}
