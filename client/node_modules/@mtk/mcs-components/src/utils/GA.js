import { default as reactGA } from 'react-ga';
import { default as gaConfigs } from '../configs/gaConfigs.json';

/**
 * 初始化 GA 以及在當前頁面戳一下 pageview(pathname)。
 *
 * @param  {Object} options
 * @param  {bool}   options.domain - china, global
 * @param  {bool}   options.debug
 * @ref: https://github.com/mozilla/react-ga#api
 *
 * @return {Object} react-ga
 *
 * @author Michael Hsu
 */
export default function GA({ domain = 'global', options }) {
  reactGA.initialize(gaConfigs[domain], options);
  reactGA.pageview(window.location.pathname);

  return reactGA;
}
