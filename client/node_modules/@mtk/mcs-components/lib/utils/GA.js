'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = GA;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _reactGa = require('react-ga');

var _reactGa2 = _interopRequireDefault(_reactGa);

var _configsGaConfigsJson = require('../configs/gaConfigs.json');

var _configsGaConfigsJson2 = _interopRequireDefault(_configsGaConfigsJson);

/**
 * 初始化 GA 以及在當前頁面戳一下 pageview(pathname)。
 *
 * @param  {Object} options
 * @param  {bool}   options.domain - china, global
 * @param  {bool}   options.debug
 * @ref: https://github.com/mozilla/react-ga#api
 *
 * @return {Object} react-ga
 *
 * @author Michael Hsu
 */

function GA(_ref) {
  var _ref$domain = _ref.domain;
  var domain = _ref$domain === undefined ? 'global' : _ref$domain;
  var options = _ref.options;

  _reactGa2['default'].initialize(_configsGaConfigsJson2['default'][domain], options);
  _reactGa2['default'].pageview(window.location.pathname);

  return _reactGa2['default'];
}

module.exports = exports['default'];