import { default as React, PropTypes } from 'react';
import { compose, pure, setPropTypes, defaultProps, renameProp } from 'recompose';
import { default as Card } from '../common/card/';
import { default as DatachannelInfo } from '../common/datachannelInfo';
import { default as Display, propTypes as ControlPropTypes } from '../float/Control';

const displayCard = ({
  numberOfCards,
  name,
  description,
  dataChnId,
  configs,
  displayType,
  fullScreenConfig,
  detailButtonConfig,
  recordedAt,
  ...props,
}) => (
  <Card
    fullScreenConfig={fullScreenConfig}
    detailButtonConfig={detailButtonConfig}
    displayType={displayType}
    configs={configs}
    numberOfCards={numberOfCards} >
    <div>
      <Display displayType={displayType} {...props} />
      <DatachannelInfo
        name={name}
        dataChnId={dataChnId}
        description={description}
        recordedAt={recordedAt}
      />
    </div>
  </Card>
);

export default compose(
  defaultProps({
    numberOfCards: 2,
    displayType: 'none',
  }),
  setPropTypes({
    configs: PropTypes.object.isRequired,
    numberOfCards: PropTypes.number,
    name: PropTypes.string.isRequired,
    description: PropTypes.string.isRequired,
    fullScreenConfig: PropTypes.object,
    recordedAt: PropTypes.number,
    detailButtonConfig: PropTypes.object,
    values: PropTypes.object,
    ...ControlPropTypes,
  }),
  pure,
  renameProp('values', 'status'),
)(displayCard);
