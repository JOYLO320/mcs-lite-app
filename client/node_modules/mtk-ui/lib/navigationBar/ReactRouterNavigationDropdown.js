'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _PropTypes = require('react-router/lib/PropTypes');

var _compose = require('recompose/compose');

var _compose2 = _interopRequireDefault(_compose);

var _withState = require('recompose/withState');

var _withState2 = _interopRequireDefault(_withState);

var _defaultProps = require('recompose/defaultProps');

var _defaultProps2 = _interopRequireDefault(_defaultProps);

var _getContext = require('recompose/getContext');

var _getContext2 = _interopRequireDefault(_getContext);

var _mapProps = require('recompose/mapProps');

var _mapProps2 = _interopRequireDefault(_mapProps);

var _ReactRouterNavigationItem = require('./ReactRouterNavigationItem');

var _ReactRouterNavigationItem2 = _interopRequireDefault(_ReactRouterNavigationItem);

var _NavigationDropdown = require('./NavigationDropdown');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var container = (0, _compose2.default)((0, _getContext2.default)({ router: _PropTypes.routerShape }), (0, _defaultProps2.default)({
  items: [],
  router: {},
  itemComponent: _ReactRouterNavigationItem2.default
}), (0, _mapProps2.default)(function (_ref) {
  var items = _ref.items,
      router = _ref.router,
      otherProps = (0, _objectWithoutProperties3.default)(_ref, ['items', 'router']);

  return (0, _extends3.default)({}, otherProps, {
    items: items,
    isActive: items.some(function (_ref2) {
      var to = _ref2.to;
      return router.isActive(to);
    })
  });
}), (0, _withState2.default)('isMenuShow', 'setIsMenuShow', false));

exports.default = container(_NavigationDropdown.NavigationDropdown);
module.exports = exports['default'];