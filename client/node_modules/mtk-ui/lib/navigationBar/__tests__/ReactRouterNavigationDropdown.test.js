'use strict';

var _jsx2 = require('babel-runtime/helpers/jsx');

var _jsx3 = _interopRequireDefault(_jsx2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _expect = require('expect');

var _expect2 = _interopRequireDefault(_expect);

var _ReactTestUtils = require('react/lib/ReactTestUtils');

var _ReactTestUtils2 = _interopRequireDefault(_ReactTestUtils);

var _ReactRouterNavigationDropdown = require('../ReactRouterNavigationDropdown');

var _ReactRouterNavigationDropdown2 = _interopRequireDefault(_ReactRouterNavigationDropdown);

var _NavigationDropdown = require('../styles/NavigationDropdown.css');

var _NavigationDropdown2 = _interopRequireDefault(_NavigationDropdown);

var _NavigationItem = require('../styles/NavigationItem.css');

var _NavigationItem2 = _interopRequireDefault(_NavigationItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('ReactRouterNavigationDropdown', function () {
  it('renders without problems', function () {
    (0, _expect2.default)(function () {
      return _ReactTestUtils2.default.renderIntoDocument((0, _jsx3.default)(_ReactRouterNavigationDropdown2.default, {}));
    }).toNotThrow();
  });

  it('works with react-router', function () {
    var history = (0, _reactRouter.createMemoryHistory)();

    var DropDown = function DropDown() {
      return (0, _jsx3.default)(_ReactRouterNavigationDropdown2.default, {
        items: [{ to: '/future' }]
      });
    };

    var router = (0, _jsx3.default)(_reactRouter.Router, {
      history: history
    }, void 0, (0, _jsx3.default)(_reactRouter.Route, {
      path: '/',
      component: DropDown
    }, void 0, (0, _jsx3.default)(_reactRouter.Route, {
      path: '/now',
      component: function component() {
        return (0, _jsx3.default)('div', {}, void 0, 'Bye');
      }
    }), (0, _jsx3.default)(_reactRouter.Route, {
      path: '/future',
      component: function component() {
        return (0, _jsx3.default)('div', {}, void 0, 'Hi');
      }
    })));

    var instance = _ReactTestUtils2.default.renderIntoDocument(router);

    (0, _expect2.default)(_ReactTestUtils2.default.findRenderedDOMComponentWithClass(instance, _NavigationItem2.default.default)).toExist();

    (0, _expect2.default)(_ReactTestUtils2.default.findRenderedDOMComponentWithClass(instance, _NavigationDropdown2.default.default)).toExist();

    history.push('/future');

    (0, _expect2.default)(_ReactTestUtils2.default.findRenderedDOMComponentWithClass(instance, _NavigationDropdown2.default.active)).toExist();
  });
});