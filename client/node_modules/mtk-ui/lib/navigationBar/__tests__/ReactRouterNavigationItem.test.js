'use strict';

var _jsx2 = require('babel-runtime/helpers/jsx');

var _jsx3 = _interopRequireDefault(_jsx2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _expect = require('expect');

var _expect2 = _interopRequireDefault(_expect);

var _ReactTestUtils = require('react/lib/ReactTestUtils');

var _ReactTestUtils2 = _interopRequireDefault(_ReactTestUtils);

var _ReactRouterNavigationItem = require('../ReactRouterNavigationItem');

var _ReactRouterNavigationItem2 = _interopRequireDefault(_ReactRouterNavigationItem);

var _NavigationItem = require('../styles/NavigationItem.css');

var _NavigationItem2 = _interopRequireDefault(_NavigationItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('ReactRouterNavigationItem', function () {
  it('renders without problems', function () {
    (0, _expect2.default)(function () {
      return _ReactTestUtils2.default.renderIntoDocument((0, _jsx3.default)(_ReactRouterNavigationItem2.default, {
        to: '/'
      }));
    }).toNotThrow();
  });

  it('works with react-router', function () {
    var LinkWrapper = function LinkWrapper(_ref) {
      var children = _ref.children;
      return (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(_ReactRouterNavigationItem2.default, {
        to: '/future'
      }), children);
    };

    var history = (0, _reactRouter.createMemoryHistory)();

    var router = (0, _jsx3.default)(_reactRouter.Router, {
      history: history
    }, void 0, (0, _jsx3.default)(_reactRouter.Route, {
      path: '/',
      component: LinkWrapper
    }, void 0, (0, _jsx3.default)(_reactRouter.Route, {
      path: '/now',
      component: function component() {
        return (0, _jsx3.default)('div', {}, void 0, 'Bye');
      }
    }), (0, _jsx3.default)(_reactRouter.Route, {
      path: '/future',
      component: function component() {
        return (0, _jsx3.default)('div', {}, void 0, 'Hi');
      }
    })));

    var instance = _ReactTestUtils2.default.renderIntoDocument(router);

    (0, _expect2.default)(_ReactTestUtils2.default.findRenderedDOMComponentWithClass(instance, _NavigationItem2.default.default)).toExist();

    history.push('/future');

    (0, _expect2.default)(_ReactTestUtils2.default.findRenderedDOMComponentWithClass(instance, _NavigationItem2.default.active)).toExist();
  });
});